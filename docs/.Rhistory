height = unit(1, "cm"),
width = unit(1, "cm"),
pad_x = unit(3, "cm"),
pad_y = unit(9, "cm")
)
library(ggpubr)
ggarrange(PEJH14,H,DBI,nrow=1,ncol=3)
ggarrange(TII,PHZ,nrow=1,ncol=2)
SHP_0          <- st_read('data/CLUSTER.shp')
SHP_0$PEJH14   <- SHP_0$PEJH14*100
PEJH14<-ggplot(data = SHP_0) +
geom_sf(mapping=aes(fill = PEJH14), lwd=0) +
scale_fill_viridis_b(option = "cividis") +
coord_sf(crs = st_crs(32719)) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank()) +
annotation_north_arrow(
height = unit(1, "cm"),
width = unit(1, "cm"),
pad_x = unit(2.5, "cm"),
pad_y = unit(7.5, "cm")
)
TII<-ggplot(data = SHP_0) +
geom_sf(mapping=aes(fill = TII), lwd=0) +
scale_fill_viridis_d(option = "cividis") +
coord_sf(crs = st_crs(32719)) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank()) +
annotation_north_arrow(
height = unit(1, "cm"),
width = unit(1, "cm"),
pad_x = unit(3, "cm"),
pad_y = unit(9, "cm")
)
H<-ggplot(data = SHP_0) +
geom_sf(mapping=aes(fill = H), lwd=0) +
scale_fill_viridis_c(option = "cividis") +
coord_sf(crs = st_crs(32719)) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank()) +
annotation_north_arrow(
height = unit(1, "cm"),
width = unit(1, "cm"),
pad_x = unit(3, "cm"),
pad_y = unit(9, "cm")
)
DBI<-ggplot(data = SHP_0) +
geom_sf(mapping=aes(fill = DBI), lwd=0) +
scale_fill_viridis_c(option = "cividis",trans="sqrt") +
coord_sf(crs = st_crs(32719)) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank()) +
annotation_north_arrow(
height = unit(1, "cm"),
width = unit(1, "cm"),
pad_x = unit(3, "cm"),
pad_y = unit(9, "cm")
)
PHZ<-ggplot(data = SHP_0) +
geom_sf(mapping=aes(fill = PHZ), lwd=0) +
scale_fill_viridis_c(option = "cividis") +
coord_sf(crs = st_crs(32719)) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank()) +
annotation_north_arrow(
height = unit(1, "cm"),
width = unit(1, "cm"),
pad_x = unit(3, "cm"),
pad_y = unit(9, "cm")
)
library(ggpubr)
ggarrange(PEJH14,H,DBI,nrow=1,ncol=3)
ggarrange(TII,PHZ,nrow=1,ncol=2)
SHP_0          <- st_read('data/CLUSTER.shp')
SHP_0$PEJH14   <- SHP_0$PEJH14*100
PEJH14<-ggplot(data = SHP_0) +
geom_sf(mapping=aes(fill = PEJH14), lwd=0) +
scale_fill_viridis_b(option = "cividis") +
coord_sf(crs = st_crs(32719)) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank()) +
annotation_north_arrow(
height = unit(1, "cm"),
width = unit(1, "cm"),
pad_x = unit(2.5, "cm"),
pad_y = unit(7.5, "cm")
)
TII<-ggplot(data = SHP_0) +
geom_sf(mapping=aes(fill = TII), lwd=0) +
scale_fill_viridis_b(option = "cividis") +
coord_sf(crs = st_crs(32719)) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank()) +
annotation_north_arrow(
height = unit(1, "cm"),
width = unit(1, "cm"),
pad_x = unit(3, "cm"),
pad_y = unit(9, "cm")
)
H<-ggplot(data = SHP_0) +
geom_sf(mapping=aes(fill = H), lwd=0) +
scale_fill_viridis_b(option = "cividis") +
coord_sf(crs = st_crs(32719)) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank()) +
annotation_north_arrow(
height = unit(1, "cm"),
width = unit(1, "cm"),
pad_x = unit(3, "cm"),
pad_y = unit(9, "cm")
)
DBI<-ggplot(data = SHP_0) +
geom_sf(mapping=aes(fill = DBI), lwd=0) +
scale_fill_viridis_b(option = "cividis",trans="sqrt") +
coord_sf(crs = st_crs(32719)) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank()) +
annotation_north_arrow(
height = unit(1, "cm"),
width = unit(1, "cm"),
pad_x = unit(3, "cm"),
pad_y = unit(9, "cm")
)
PHZ<-ggplot(data = SHP_0) +
geom_sf(mapping=aes(fill = PHZ), lwd=0) +
scale_fill_viridis_b(option = "cividis") +
coord_sf(crs = st_crs(32719)) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank()) +
annotation_north_arrow(
height = unit(1, "cm"),
width = unit(1, "cm"),
pad_x = unit(3, "cm"),
pad_y = unit(9, "cm")
)
library(ggpubr)
ggarrange(PEJH14,H,DBI,nrow=1,ncol=3)
ggarrange(TII,PHZ,nrow=1,ncol=2)
SHP_0          <- st_read('data/CLUSTER.shp')
SHP_0$PEJH14   <- SHP_0$PEJH14*100
PEJH14<-ggplot(data = SHP_0) +
geom_sf(mapping=aes(fill = PEJH14), lwd=0) +
scale_fill_viridis_b(option = "cividis") +
coord_sf(crs = st_crs(32719)) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank()) +
annotation_north_arrow(
height = unit(1, "cm"),
width = unit(1, "cm"),
pad_x = unit(2.5, "cm"),
pad_y = unit(7.5, "cm")
)
TII<-ggplot(data = SHP_0) +
geom_sf(mapping=aes(fill = TII), lwd=0) +
scale_fill_viridis_b(option = "cividis") +
coord_sf(crs = st_crs(32719)) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank()) +
annotation_north_arrow(
height = unit(1, "cm"),
width = unit(1, "cm"),
pad_x = unit(3, "cm"),
pad_y = unit(9, "cm")
)
H<-ggplot(data = SHP_0) +
geom_sf(mapping=aes(fill = H), lwd=0) +
scale_fill_viridis_b(option = "cividis") +
coord_sf(crs = st_crs(32719)) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank()) +
annotation_north_arrow(
height = unit(1, "cm"),
width = unit(1, "cm"),
pad_x = unit(3, "cm"),
pad_y = unit(9, "cm")
)
DBI<-ggplot(data = SHP_0) +
geom_sf(mapping=aes(fill = DBI), lwd=0) +
scale_fill_viridis_b(option = "cividis",trans="sqrt") +
coord_sf(crs = st_crs(32719)) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank()) +
annotation_north_arrow(
height = unit(1, "cm"),
width = unit(1, "cm"),
pad_x = unit(2.5, "cm"),
pad_y = unit(8, "cm")
)
PHZ<-ggplot(data = SHP_0) +
geom_sf(mapping=aes(fill = PHZ), lwd=0) +
scale_fill_viridis_b(option = "cividis") +
coord_sf(crs = st_crs(32719)) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank()) +
annotation_north_arrow(
height = unit(1, "cm"),
width = unit(1, "cm"),
pad_x = unit(3, "cm"),
pad_y = unit(9, "cm")
)
library(ggpubr)
ggarrange(PEJH14,H,DBI,nrow=1,ncol=3)
ggarrange(TII,PHZ,nrow=1,ncol=2)
SHP_0          <- st_read('data/CLUSTER.shp')
SHP_0$PEJH14   <- SHP_0$PEJH14*100
PEJH14<-ggplot(data = SHP_0) +
geom_sf(mapping=aes(fill = PEJH14), lwd=0) +
scale_fill_viridis_b(option = "cividis") +
coord_sf(crs = st_crs(32719)) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank()) +
annotation_north_arrow(
height = unit(1, "cm"),
width = unit(1, "cm"),
pad_x = unit(2.5, "cm"),
pad_y = unit(7.5, "cm")
)
TII<-ggplot(data = SHP_0) +
geom_sf(mapping=aes(fill = TII), lwd=0) +
scale_fill_viridis_b(option = "cividis") +
coord_sf(crs = st_crs(32719)) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank()) +
annotation_north_arrow(
height = unit(1, "cm"),
width = unit(1, "cm"),
pad_x = unit(3, "cm"),
pad_y = unit(9, "cm")
)
H<-ggplot(data = SHP_0) +
geom_sf(mapping=aes(fill = H), lwd=0) +
scale_fill_viridis_b(option = "cividis") +
coord_sf(crs = st_crs(32719)) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank()) +
annotation_north_arrow(
height = unit(1, "cm"),
width = unit(1, "cm"),
pad_x = unit(2.5, "cm"),
pad_y = unit(8, "cm")
)
DBI<-ggplot(data = SHP_0) +
geom_sf(mapping=aes(fill = DBI), lwd=0) +
scale_fill_viridis_b(option = "cividis",trans="sqrt") +
coord_sf(crs = st_crs(32719)) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank()) +
annotation_north_arrow(
height = unit(1, "cm"),
width = unit(1, "cm"),
pad_x = unit(2.5, "cm"),
pad_y = unit(8, "cm")
)
PHZ<-ggplot(data = SHP_0) +
geom_sf(mapping=aes(fill = PHZ), lwd=0) +
scale_fill_viridis_b(option = "cividis") +
coord_sf(crs = st_crs(32719)) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank()) +
annotation_north_arrow(
height = unit(1, "cm"),
width = unit(1, "cm"),
pad_x = unit(3, "cm"),
pad_y = unit(9, "cm")
)
library(ggpubr)
ggarrange(PEJH14,H,DBI,nrow=1,ncol=3)
ggarrange(TII,PHZ,nrow=1,ncol=2)
SHP_0          <- st_read('data/CLUSTER.shp')
library(ggplot2)
library(ggspatial)
library(rgdal)
library(leaflet)
library(widgetframe)
library(cartography)
library(sf)
SHP<-readOGR('data/CLUSTER.shp')
shapeData <- spTransform(SHP, CRS("+proj=longlat +datum=WGS84 +no_defs"))
SHP$CLUSTER <- as.factor(SHP$CLUSTER)
factpal <- colorFactor(
palette = c('#b2182b','#ef8a62','#fddbc7','#d1e5f0','#67a9cf','#2166ac'),
levels  = c("1","2","3","4","5","6")
)
SHP_0          <- st_read('data/CLUSTER.shp')
SHP_0$PEJH14   <- SHP_0$PEJH14*100
ggplot(data = SHP_0) +
geom_sf(mapping=aes(fill = PEJH14), lwd=0) +
scale_fill_viridis_b(option = "cividis") +
coord_sf(crs = st_crs(32719)) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank()) +
annotation_north_arrow(
height = unit(1, "cm"),
width = unit(1, "cm"),
pad_x = unit(3, "cm"),
pad_y = unit(9, "cm")
)
ggplot(data = SHP_0) +
geom_sf(mapping=aes(fill = TII), lwd=0) +
scale_fill_viridis_b(option = "cividis") +
coord_sf(crs = st_crs(32719)) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank()) +
annotation_north_arrow(
height = unit(1, "cm"),
width = unit(1, "cm"),
pad_x = unit(3, "cm"),
pad_y = unit(9, "cm")
)
ggplot(data = SHP_0) +
geom_sf(mapping=aes(fill = H), lwd=0) +
scale_fill_viridis_b(option = "cividis") +
coord_sf(crs = st_crs(32719)) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank()) +
annotation_north_arrow(
height = unit(1, "cm"),
width = unit(1, "cm"),
pad_x = unit(2.5, "cm"),
pad_y = unit(8, "cm")
)
ggplot(data = SHP_0) +
geom_sf(mapping=aes(fill = DBI), lwd=0) +
scale_fill_viridis_b(option = "cividis",trans="sqrt") +
coord_sf(crs = st_crs(32719)) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank()) +
annotation_north_arrow(
height = unit(1, "cm"),
width = unit(1, "cm"),
pad_x = unit(2.5, "cm"),
pad_y = unit(8, "cm")
)
ggplot(data = SHP_0) +
geom_sf(mapping=aes(fill = PHZ), lwd=0) +
scale_fill_viridis_b(option = "cividis") +
coord_sf(crs = st_crs(32719)) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank()) +
annotation_north_arrow(
height = unit(1, "cm"),
width = unit(1, "cm"),
pad_x = unit(3, "cm"),
pad_y = unit(9, "cm")
)
SHP_0          <- st_read('data/CLUSTER.shp')
SHP_0$PEJH14   <- SHP_0$PEJH14*100
ggplot(data = SHP_0) +
geom_sf(mapping=aes(fill = PEJH14), lwd=0) +
scale_fill_viridis_b(option = "cividis") +
coord_sf(crs = st_crs(32719)) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank()) +
annotation_north_arrow(
height = unit(1, "cm"),
width = unit(1, "cm"),
pad_x = unit(3, "cm"),
pad_y = unit(9, "cm")
)
ggplot(data = SHP_0) +
geom_sf(mapping=aes(fill = TII), lwd=0) +
scale_fill_viridis_b(option = "cividis") +
coord_sf(crs = st_crs(32719)) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank()) +
annotation_north_arrow(
height = unit(1, "cm"),
width = unit(1, "cm"),
pad_x = unit(3, "cm"),
pad_y = unit(9, "cm")
)
ggplot(data = SHP_0) +
geom_sf(mapping=aes(fill = H), lwd=0) +
scale_fill_viridis_b(option = "cividis") +
coord_sf(crs = st_crs(32719)) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank()) +
annotation_north_arrow(
height = unit(1, "cm"),
width = unit(1, "cm"),
pad_x = unit(3, "cm"),
pad_y = unit(9, "cm")
)
ggplot(data = SHP_0) +
geom_sf(mapping=aes(fill = DBI), lwd=0) +
scale_fill_viridis_b(option = "cividis",trans="sqrt") +
coord_sf(crs = st_crs(32719)) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank()) +
annotation_north_arrow(
height = unit(1, "cm"),
width = unit(1, "cm"),
pad_x = unit(3, "cm"),
pad_y = unit(9, "cm")
)
ggplot(data = SHP_0) +
geom_sf(mapping=aes(fill = PHZ), lwd=0) +
scale_fill_viridis_b(option = "cividis") +
coord_sf(crs = st_crs(32719)) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank()) +
annotation_north_arrow(
height = unit(1, "cm"),
width = unit(1, "cm"),
pad_x = unit(3, "cm"),
pad_y = unit(9, "cm")
)
ggplot(data = SHP_0) +
geom_sf(mapping=aes(fill = PEJH14), lwd=0) +
scale_fill_viridis_b(option = "cividis") +
coord_sf(crs = st_crs(32719)) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank()) +
annotation_north_arrow(
height = unit(1, "cm"),
width = unit(1, "cm"),
pad_x = unit(3.5, "cm"),
pad_y = unit(10.5, "cm")
)
library(SOMbrero)
library(dplyr)
library(ggplot2)
library(markdown)
library(rgdal)
options(scipen = 999)
set.seed(67)
ANALISIS<-read.csv('data/DB.csv')
SHP<-as.data.frame(readOGR('data/CLUSTER.shp'))
ncel=round(sqrt(5*sqrt(dim(ANALISIS)[1])),digits=0)
training<-trainSOM(x.data=select(ANALISIS,PEJH12,TII,DBI,H,PHZ),
dimension=c(ncel,ncel),
radius.type='letremy',
verbose=TRUE,
maxit=5000)
nclass=6
scEST_S7<-superClass(training,k=nclass)
boxplot(subset(select(SHP,PEJH14,TII,PHZ,H,DBI),CLUSTER==1)$PEJH14,
subset(select(SHP,PEJH14,TII,PHZ,H,DBI),CLUSTER==2)$PEJH14,
subset(select(SHP,PEJH14,TII,PHZ,H,DBI),CLUSTER==3)$PEJH14,
subset(select(SHP,PEJH14,TII,PHZ,H,DBI),CLUSTER==4)$PEJH14,
subset(select(SHP,PEJH14,TII,PHZ,H,DBI),CLUSTER==5)$PEJH14,
subset(select(SHP,PEJH14,TII,PHZ,H,DBI),CLUSTER==6)$PEJH14,
main="Porcentaje jefes de hogar con escolaridad menor a 12",
xlab="Cluster",
ylab="Porcentaje")
boxplot(subset(select(SHP,PEJH14,TII,PHZ,H,DBI),CLUSTER==1)$PHZ,
subset(select(SHP,PEJH14,TII,PHZ,H,DBI),CLUSTER==2)$PHZ,
subset(select(SHP,PEJH14,TII,PHZ,H,DBI),CLUSTER==3)$PHZ,
subset(select(SHP,PEJH14,TII,PHZ,H,DBI),CLUSTER==4)$PHZ,
subset(select(SHP,PEJH14,TII,PHZ,H,DBI),CLUSTER==5)$PHZ,
subset(select(SHP,PEJH14,TII,PHZ,H,DBI),CLUSTER==6)$PHZ,
main="Porcentaje hacinamiento zonal",
xlab="Cluster",
ylab="Porcentaje")
boxplot(subset(select(SHP,PEJH14,TII,PHZ,H,DBI),CLUSTER==1)$TII,
subset(select(SHP,PEJH14,TII,PHZ,H,DBI),CLUSTER==2)$TII,
subset(select(SHP,PEJH14,TII,PHZ,H,DBI),CLUSTER==3)$TII,
subset(select(SHP,PEJH14,TII,PHZ,H,DBI),CLUSTER==4)$TII,
subset(select(SHP,PEJH14,TII,PHZ,H,DBI),CLUSTER==5)$TII,
subset(select(SHP,PEJH14,TII,PHZ,H,DBI),CLUSTER==6)$TII,
main="Tasa inmigración intrametropolitana",
xlab="Cluster",
ylab="Porcentaje")
boxplot(subset(select(SHP,PEJH14,TII,PHZ,H,DBI),CLUSTER==1)$H,
subset(select(SHP,PEJH14,TII,PHZ,H,DBI),CLUSTER==2)$H,
subset(select(SHP,PEJH14,TII,PHZ,H,DBI),CLUSTER==3)$H,
subset(select(SHP,PEJH14,TII,PHZ,H,DBI),CLUSTER==4)$H,
subset(select(SHP,PEJH14,TII,PHZ,H,DBI),CLUSTER==5)$H,
subset(select(SHP,PEJH14,TII,PHZ,H,DBI),CLUSTER==6)$H,
main="Diversidad de usos de suelo",
xlab="Cluster",
ylab="Porcentaje")
boxplot(subset(select(SHP,PEJH14,TII,PHZ,H,DBI),CLUSTER==1)$DBI,
subset(select(SHP,PEJH14,TII,PHZ,H,DBI),CLUSTER==2)$DBI,
subset(select(SHP,PEJH14,TII,PHZ,H,DBI),CLUSTER==3)$DBI,
subset(select(SHP,PEJH14,TII,PHZ,H,DBI),CLUSTER==4)$DBI,
subset(select(SHP,PEJH14,TII,PHZ,H,DBI),CLUSTER==5)$DBI,
subset(select(SHP,PEJH14,TII,PHZ,H,DBI),CLUSTER==6)$DBI,
main="Distancia a los centros (bicentros)",
xlab="Cluster",
ylab="Porcentaje")
